# –ë—ã—Å—Ç—Ä—ã–π –ù–∞—á–∞–ª–æ - –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞ –†—É—Å—Å–∫–∏–π

## –ö–ª—é—á–µ–≤—ã–µ –ü–∞–ø–∫–∏ –∏ –§–∞–π–ª—ã

- **`app/arkham/i18n/`** - I18n —Å–∏—Å—Ç–µ–º–∞
  - `__init__.py` - –≠–∫—Å–ø–æ—Ä—Ç –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞
  - `manager.py` - **I18nManager** –∫–ª–∞—Å—Å

- **`app/arkham/state/i18n_state.py`** - **I18nState** –¥–ª—è Reflex

- **`app/arkham/locales/`** - JSON —Ç—Ä–∞–Ω—Å–ª–µ–π—Ç—ã
  - `ru/` - –†—É—Å—Å–∫–∏–µ —Ç—Ä–∞–Ω—Å–ª–µ–π—Ç—ã (5 —Ñ–∞–π–ª–æ–≤)
  - `en/` - –ê–Ω–≥–ª–∏–π—Å–∫–∏–µ —Ç—Ä–∞–Ω—Å–ª–µ–π—Ç—ã (—Ç–∞–∫–∏–µ –∂–µ —Ñ–∞–π–ª—ã)

## –ú–∞—Å—Ç–µ—Ä—Å–∫–∏–µ –ü—Ä–∏–º–µ—Ä—ã

### 1. –û–∫—Ä–æ–Ω—ç –ù–∞—Å—Ç—Ä–æ–π–∫–∏ i18n

```python
# app/arkham/arkham.py –∏–ª–∏ –≥–Ω—É —Å—Ç–∞—Ä—Ç–æ–≤—ã–π —Ñ–∞–π–ª

from app.arkham.i18n.manager import i18n
from app.arkham.state.i18n_state import I18nState

# –í—Å–µ —Ç—Ä–∞–Ω—Å–ª–µ–π—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ–∫—Å–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö

```python
# –û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–º–µ—Ä
from app.arkham.i18n.manager import i18n

rx.heading(i18n.get('knowledge.title', 'pages'))
rx.button(i18n.get('knowledge.add_new', 'pages'))

# –î–æ—Å—Ç–∞—é –Ω–µ—Å—Ç–æ–≤–Ω—ã–µ –∫–ª—é—á–∏
entity_type = i18n.get('entities.types.PERSON', 'pages')

# –û—à–∏–±–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è
error = i18n.get('network_error', 'errors')
validation = i18n.get('required', 'validations')
```

### 3. –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ø–∑—ã–∫–∞

```python
# –í Handler –∏–ª–∏ Event
from app.arkham.state.i18n_state import I18nState

def switch_language(lang: str):
    I18nState.set_language(lang)

# –õ–∏–±–æ —Å UI
rx.button(
    "üá¶üá∏ –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ RU",
    on_click=I18nState.switch_to_russian
)

rx.button(
    "üáßüá∫ Switch to EN",
    on_click=I18nState.switch_to_english
)
```

## –ü—Ä–∏–º–µ—Ä –†–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –ù–∞ –ø—Ä–∏–º–µ—Ä–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –ó–Ω–∞–Ω–∏—è

**–î–æ (–±–µ–∑ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏):**
```python
rx.heading("Knowledge Items")
rx.button("Add Knowledge")
rx.text("No knowledge items found")
```

**–ü–æ—Å–ª–µ (—Å –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–µ–π):**
```python
from app.arkham.i18n.manager import i18n

rx.heading(i18n.get('knowledge.title', 'pages'))
rx.button(i18n.get('knowledge.add_new', 'pages'))
rx.text(i18n.get('knowledge.empty', 'pages'))
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –í—Ä—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```python
# –í Python REPL –∏–ª–∏ —Ç–µ—Å—Ç–æ–≤–æ–º —Å–∫—Ä–∏–ø—Ç–µ
from app.arkham.i18n.manager import i18n

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ
print(i18n.get('knowledge.title', 'pages'))  # –û—Ç–≤–µ—Ç: –ó–Ω–∞–Ω–∏—è

# –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–∏–π
i18n.set_language('en')
print(i18n.get('knowledge.title', 'pages'))  # –û—Ç–≤–µ—Ç: Knowledge

# –ù–∞–∑–∞–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π
i18n.set_language('ru')
print(i18n.get('knowledge.title', 'pages'))  # –û—Ç–≤–µ—Ç: –ó–Ω–∞–Ω–∏—è
```

### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–Ω–∞—è –Ω–∞ UI

1. –ù–∞—á–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ: `reflex run`
2. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:3000
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –µ—Å–ª–∏ —Ç–µ–∫—Å—Ç—ã —Ä—É—Å—Å–∫–∏–µ
4. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å EN/RU
5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–æ–≤—ã–π —è–∑—ã–∫

## –ü—Ä–∏–Ω—Ü–∏–ø—ã –ù–∞–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ö–ª—é—á–µ–π

```
# –û–±—â–∏–µ —Å—Ç—Ä–æ–∫–∏
i18n.get('submit', 'common')
i18n.get('cancel', 'common')

# –ù–∞ —ç—Ç–æ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã
i18n.get('knowledge.title', 'pages')
i18n.get('entities.add_new', 'pages')

# –ù–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
i18n.get('header.search', 'components')
i18n.get('sidebar.dashboard', 'components')

# –ù–∞ –æ—à–∏–±–∫–∏ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—é
i18n.get('network_error', 'errors')
i18n.get('required', 'validations')
```

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é

- **–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π (—Ä—É)
- **–í—Ä–µ–º—è —Å—Ç–∞—Ä—Ç–∞:** –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ä–∞–∑—É –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –Ω–∞ —Ä—É—Å—Å–∫–æ–º
- **–§–∞–ª–ª–±—ç–∫:** –û—Ç–∫–∞—Ç—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∫–ª—é—á, –µ—Å–ª–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–µ –Ω–∞–π–¥–µ–Ω

## –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ù–∞—Ö–≤–∞—Ç–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ù–æ–≤–æ–≥–æ –ù–∞–º–µ—Å–ø–µ—Å—Ç–≤–∞

1. –°–æ–∑–¥–∞—Ç—å `app/arkham/locales/ru/mynewspace.json`:
```json
{
  "key1": "–ü–µ—Ä–µ–≤–æ–¥ 1",
  "key2": "–ü–µ—Ä–µ–≤–æ–¥ 2"
}
```

2. –§–∞–π–ª –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ª–æ–∂–∏—Ç—Å—è –ø—Ä–∏ –≤—ã–∑–æ–≤–µ:
```python
i18n.get('key1', 'mynewspace')
```

## –û—Å–Ω–æ–≤–Ω—ã–µ –ù–∞–º–µ—Å–ø–µ—Å—Ç–≤–∞

- **common** - –û–±—â–∏–µ —É–π-—ç–ª–µ–º–µ–Ω—Ç—ã –∏ –±–∞–∑–æ–≤—ã–µ —Ä—ç–¥–∞–Ω—Å—é
- **pages** - –ó–Ω–∞–Ω–∏—è, —Å—É—â–Ω–æ—Å—Ç–∏, –ø–æ–∏—Å–∫, –≥—Ä–∞—Ñ, Q&A, –≤—Ä–µ–º–µ–Ω–Ω–∞—è, –ø—Ä–æ—Ç–∏–≤–æ—Ä–µ—á–∏—è, –ê–ö–ì
- **components** - Header, Sidebar, Forms, Modals, Tables, Pagination, Filters
- **errors** - –í—Å–µ –æ—à–∏–±–∫–∏ –∏ –≤—ã–ø—Ä–∞–≤–≤–∫–∏
- **validations** - –í—Å–µ –≤–∞–ª–∏–¥–∞—Ü–∏–æ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

## –ü–æ–ª–µ–∑–Ω—ã–µ –ú–µ—Ç–æ–¥—ã

```python
from app.arkham.i18n.manager import i18n

# –ü–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥
i18n.get(key, namespace, default)

# –û—Ç —Ä–µ–±—É–¥–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã
i18n.reload_translations()

# –ù–∞—Å—Ç—Ä–æ–∏—Ç—å —è–∑—ã–∫
i18n.set_language('en')

# –û—Ç–æ–±—Ä–∞–∂–∏—Ç—å –≤—Å–µ –ø–µ—Ä–µ–≤–æ–¥—ã –Ω–∞–º–µ—Å–ø–µ—Å—Ç–≤–∞
i18n.get_all(namespace)
```

---

üéÜ **–ì–æ—Ç–æ–≤–æ! –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –ª–æ–∫–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫!**
